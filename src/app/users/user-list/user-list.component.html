<div>Mistral Interview Task - Igor Pavlovic</div>
<div>
    <div>
        <button [routerLink]="['/upsert-user']">Add new user</button>
    </div>
    <div>
        <label>Order by: </label>
        <app-dropdown
            [defaultDropDownOption]="DEFAULT_DROPDOWN_TEXT_ORDER"
            [selectedItem]="DEFAULT_DROPDOWN_TEXT_ORDER"
            (dropdownSelection)="orderUsersBy($event)"
            [dropdownItems]="userAttributes">
        </app-dropdown>
    </div>
    <div>
        <label>Filter value:</label>
        <app-dropdown 
            [defaultDropDownOption]="DEFAULT_DROPDOWN_FILTERING"
            [selectedItem]="DEFAULT_DROPDOWN_FILTERING"
            (dropdownSelection)="selectFilter($event)"
            [dropdownItems]="userAttributes">
        </app-dropdown>
        <input type="text" #filterInput>
        <button type="button" (click)="applyFilter()">Apply filter</button>
        <button type="button" (click)="resetFilter()">Reset filter</button>

    </div>
    <table id="users-table">
        <thead>
            <tr>
                <th *ngFor="let column of displayColumns"></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let user of users">
                <td>{{ user.firstName }}</td>
                <td>{{ user.lastName }}</td>
                <td>{{ user.userName }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.status }}</td>
                <div ngbDropdown>
                    <button id="actionsDropdownToggle" ngbDropdownToggle>Actions</button>
                    <div ngbDropdownMenu>
                        <button [routerLink]="['/upsert-user', user['id']]" ngbDropdownItem>Edit</button>
                        <button [routerLink]="['/assign-user', user['id']]" ngbDropdownItem>Assign</button>
                        <button type="button" (click)="deleteUser(user.id)" ngbDropdownItem>Delete</button>
                    </div>
                </div>
            </tr>
        </tbody>
    </table>
    <div class="paginator">
        <app-paginator (inputPageEvent)="pageChanged($event)"
            [pageSize]="PAGE_SIZE"
            [page]="selectedPage"
            [collectionSize]="totalUsers">
        </app-paginator>
    </div>
</div>
